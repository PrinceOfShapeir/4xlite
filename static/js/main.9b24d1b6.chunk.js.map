{"version":3,"sources":["appSplash.js","components/worldGen.js","tileset/trees.svg","tileset/grass.svg","tileset/water.svg","tileset/hills.svg","tileset/treesCity.svg","tileset/hillsCity.svg","tileset/grassCity.svg","components/WorldGrid.js","components/bottomBar.js","components/GameScreen.js","App.js","index.js"],"names":["AppSplash","props","className","href","target","rel","terrainSelect","x","y","size","probSeed","randomNumber","Math","random","waterProb","pow","waterProbability","console","log","worldGen","world","i","push","z","terrain","settled","GridRow","row","selectTerrain","gridRow","style","padding","margin","src","grassCity","alt","onClick","grass","treesCity","trees","hillsCity","hills","water","lineHeight","GridCols","grid","rowsArray","worldGrid","cellpadding","cellspacing","border","borderCollapse","colspan","Grid","terrainInfo","settle","selectedIsSettled","turn","nextTurn","settlers","info","type","bottomBar","endGame","Navbar","bg","expand","fixed","Text","cityCount","endGameTurns","selectedTerrain","selectedTerrainX","selectedTerrainY","food","production","commerce","GameScreen","state","worldMap","worldSize","foodIncome","foodConsumption","commerceIncome","productionIncome","defeat","setState","foodBalance","productionBalance","commerceBalance","generateWorld","setSize","event","value","gridCopy","JSON","parse","stringify","settledCallBack","renderWorldGenTemplate","name","min","max","onChange","this","Component","App","splashVisible","toggleSplash","width","height","title","frameborder","allow","allowfullscreen","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9b24d1b6.chunk.js","sourcesContent":["import React from 'react';\r\n\r\n\r\n\r\n\r\nfunction AppSplash(props) {\r\n\r\n\r\n    return (\r\n        <div className=\"App\">\r\n\r\n            <p>\r\n                This is my submission for the august <a\r\n                    className=\"App-link\"\r\n                    href=\"https://mintbean.io/meets/d51762d5-b874-4cc1-a420-ff316600192f\"\r\n                    target=\"_blank\"\r\n                    rel=\"noopener noreferrer\"\r\n                >Mintbean Hackathon.</a>\r\n            </p>\r\n            <p>This intended to be a mock up of a 4x game, featuring procedural world generation.</p>\r\n        </div>\r\n    );\r\n\r\n\r\n}\r\n\r\nexport default AppSplash;","\r\n\r\nfunction waterProbability(x, y, size, probSeed = 0.9) {\r\n\r\n    return Math.pow(probSeed, x) + Math.pow(probSeed, (size - 1 - y));\r\n}\r\n//we will just make the landProbs equal to each other\r\n\r\nfunction terrainSelect(x, y, size, probSeed) {\r\n\r\n\r\n    //params contains:\r\n    //int size\r\n    let randomNumber = Math.random();\r\n    let waterProb = waterProbability(x,y,size, probSeed);\r\n\r\n    if (randomNumber <= waterProb) {\r\n        console.log(\"water probability was \" + waterProb)\r\n        return \"water\";\r\n    }\r\n    else {\r\n        randomNumber = Math.random();\r\n\r\n        if(randomNumber<.33) {\r\n            return \"hills\";\r\n        } else if (randomNumber <.66){\r\n            return \"trees\";\r\n        } else {\r\n            return \"grass\";\r\n        }\r\n\r\n\r\n    }\r\n    \r\n\r\n    //generate 2d array of size^2\r\n    //copy to this.state.worldMap\r\n    //place terrain according to probability set\r\n    // edgeProbability, when x or y = 0, or size\r\n    // edgeProbability: {water: }\r\n}\r\n\r\n\r\nfunction worldGen(size, waterProb) {\r\n\r\n    let world = [];\r\n\r\n    for (let i = 0; i < size; i++) {\r\n        world.push([]);\r\n        for (let z = 0; z < size; z++) {\r\n\r\n            world[i][z] = {\r\n                x: i,\r\n                y: z,\r\n                terrain: terrainSelect(i, z, size, waterProb),\r\n                settled: false\r\n            };\r\n\r\n        }\r\n    }\r\n    //console.log(world);\r\n    return world;\r\n}\r\n\r\nexport default worldGen;","export default __webpack_public_path__ + \"static/media/trees.45f638e9.svg\";","export default __webpack_public_path__ + \"static/media/grass.85473006.svg\";","export default __webpack_public_path__ + \"static/media/water.7ede080d.svg\";","export default __webpack_public_path__ + \"static/media/hills.352b1dd7.svg\";","export default __webpack_public_path__ + \"static/media/treesCity.630c4054.svg\";","export default __webpack_public_path__ + \"static/media/hillsCity.00cc3259.svg\";","export default __webpack_public_path__ + \"static/media/grassCity.adab9481.svg\";","import trees from \"../tileset/trees.svg\";\r\nimport grass from \"../tileset/grass.svg\";\r\nimport water from \"../tileset/water.svg\";\r\nimport hills from \"../tileset/hills.svg\";\r\nimport treesCity from \"../tileset/treesCity.svg\"\r\nimport hillsCity from \"../tileset/hillsCity.svg\"\r\nimport grassCity from \"../tileset/grassCity.svg\"\r\n\r\n\r\nfunction GridRow(row, selectTerrain) {\r\n    let gridRow = [];\r\n    //console.log(\"row is: \");\r\n    //\r\n    //console.log(row);\r\n\r\n    for (let i in row) {\r\n        let settled = row[i].settled;\r\n\r\n        switch (row[i].terrain) {\r\n\r\n            case \"grass\":\r\n                gridRow.push(\r\n                    //grassUrl\r\n                    //<Col> image goes here </Col>\r\n                    <td style={{padding: 0, margin: 0}}>\r\n                        {(!settled) ? (<img src={grass} alt=\"grass\" onClick={()=>selectTerrain(\"grass\", row[i].x, row[i].y)}/>)\r\n                        :(<img src={grassCity} alt=\"grassCity\" onClick={()=>selectTerrain(\"grass\", row[i].x, row[i].y)}/>)}\r\n                        \r\n                    </td>\r\n                );\r\n                break;\r\n            case \"trees\":\r\n                gridRow.push(\r\n                    //treesUrl\r\n                    <td style={{padding: 0, margin: 0}}>\r\n                        {(!settled) ? \r\n                        (<img src={trees} alt=\"trees\" onClick={()=>selectTerrain(\"trees\", row[i].x, row[i].y)} />)\r\n                        :(<img src={treesCity} alt=\"treesCity\" onClick={()=>selectTerrain(\"trees\", row[i].x, row[i].y)}/>)}\r\n                        \r\n                    </td>\r\n                );\r\n                break;\r\n            case \"hills\":\r\n                gridRow.push(\r\n                    //hillsUrl\r\n                    <td style={{padding: 0, margin: 0}}>\r\n                        {(!settled) ? \r\n                        (<img src={hills} alt=\"hills\" onClick={()=>selectTerrain(\"hills\", row[i].x, row[i].y)} />)\r\n                        :(<img src={hillsCity} alt=\"hillsCity\" onClick={()=>selectTerrain(\"hills\", row[i].x, row[i].y)}/>)}\r\n                        \r\n                    </td>\r\n                );\r\n                break;\r\n            case \"water\":\r\n                gridRow.push(\r\n                    //waterUrl\r\n                    <td style={{padding: 0, margin: 0}}>\r\n                        <img src={water} alt=\"water\" onClick={()=>selectTerrain(\"water\", row[i].x, row[i].y)}/>\r\n                    </td>\r\n                );\r\n                break;\r\n            default:\r\n                console.log(\"Error Default\");\r\n                gridRow.push(\r\n\r\n                    //grassUrl\r\n                    <td style={{padding: 0, margin: 0}}>\r\n                        <img src={grass} alt=\"grass\" onClick={()=>selectTerrain(\"grass\", row[i].x, row[i].y)}/>\r\n                    </td>\r\n                );\r\n                break;\r\n        }\r\n    }\r\n    return (\r\n        <tr style={{lineHeight: 0}}>\r\n            {gridRow}\r\n        </tr>        \r\n    )\r\n\r\n}\r\n\r\nfunction GridCols (grid, selectTerrain) {\r\n\r\n    let rowsArray = [];\r\n    //console.log(\"here is the original grid, i think\")\r\n    //console.log(grid);\r\n    for(let i in grid) {\r\n\r\n        rowsArray.push(GridRow(grid[i], selectTerrain));\r\n\r\n    }\r\n\r\n    return rowsArray;\r\n\r\n\r\n}\r\n\r\nfunction Grid (grid, selectTerrain) {\r\n    return (\r\n        <>\r\n            <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" style={{borderCollapse: \"collapse\"}}>\r\n                <thead>\r\n                    <tr>\r\n                        <th colspan=\"2\">World Map</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                        {GridCols(grid, selectTerrain)}\r\n                </tbody>\r\n\r\n            </table>\r\n\r\n        </>\r\n\r\n    );\r\n\r\n}\r\n\r\nfunction worldGrid (grid, selectTerrain) {\r\n\r\n    //grid comes from state\r\n\r\n    //console.log(grid);\r\n\r\n    \r\n\r\n    return Grid(grid, selectTerrain);\r\n\r\n}\r\n\r\n\r\nexport default worldGrid;","import Navbar from 'react-bootstrap/Navbar'\r\nimport trees from \"../tileset/trees.svg\";\r\nimport grass from \"../tileset/grass.svg\";\r\nimport water from \"../tileset/water.svg\";\r\nimport hills from \"../tileset/hills.svg\";\r\n\r\nfunction settlePrompt (settlers) {\r\n\r\n    return (\r\n        <p>You have {settlers} settlers. You should probably put them somewhere. You can do this by clicking on some non-watery terrain. </p>\r\n    );\r\n\r\n}\r\n\r\n\r\n\r\n\r\nfunction terrainInfo (terrain, x, y, settle, settled, selectedIsSettled, turn, nextTurn, settlers) {\r\n    let info = () => {\r\n        switch (terrain) {\r\n\r\n                        case \"grass\":\r\n                            return(\r\n\r\n                                <>\r\n                                    <img src={grass} alt=\"grass\" />\r\n                                    <p>You have {selectedIsSettled ? \"settled\" : \"chosen\"} grassland, which produces two food.</p>\r\n                                    \r\n                                </>\r\n\r\n                            );\r\n                        case \"hills\":\r\n                            return(\r\n\r\n                                <>\r\n                                    <img src={hills} alt=\"hills\" />\r\n                                    <p>You have {selectedIsSettled ? \"settled\" : \"chosen\"} hills, which produces two production, and has a defensive bonus.</p>\r\n                                </>\r\n\r\n                            );\r\n                        case \"trees\":\r\n                            return(\r\n\r\n                                <>\r\n                                    <img src={trees} alt=\"trees\" />\r\n                                    <p>You have {selectedIsSettled ? \"settled\" : \"chosen\"} forest, which produces one food and one production.</p>\r\n                                </>\r\n\r\n                            );\r\n                        case \"water\":\r\n                            return(\r\n\r\n                                <>\r\n                                    <img src={water} alt=\"water\" />\r\n                                    <p>You have {selectedIsSettled ? \"settled\" : \"chosen\"} water, which you were told not to do. Water produces one food, and one commerce point.</p>\r\n                                </>\r\n\r\n                            );\r\n                        default:\r\n                            return(\r\n                                <>\r\n                                <p>You have somehow chosen that which cannot be chosen. The FBI are on their way.</p>\r\n                                <p>{terrain}</p>\r\n                                </>\r\n                            );\r\n                        \r\n\r\n\r\n                    }\r\n\r\n\r\n    }\r\n    return (\r\n        <>\r\n                {\r\n                    info()\r\n                }\r\n            {/*<p>The coordinates for this tile are {x}, {y}</p>*/}\r\n            <br />\r\n            {(terrain!=\"water\") && (!selectedIsSettled) && (settlers>0) && (<button type='button' onClick={()=>settle(x,y)}>Settle Here!</button>)}\r\n        </>\r\n    );\r\n\r\n\r\n\r\n}\r\n\r\nfunction bottomBar (props) {\r\n\r\n    if (!props.endGame) {\r\n\r\n        return (\r\n            <Navbar bg=\"light\" expand=\"md\" fixed=\"bottom\">\r\n                {(props.turn===10) && (\r\n                <p>A village elder comes to you in the dead of night, recounting a vision of doom. \r\n                    Within {props.endGameTurns} turns, they say, a great flood will inundate the land, erasing any and all trace of a once proud people.\r\n                    As some of the villagers make to stitch together rafts and flee, you begin an impassioned plea not to abandon all that you have accomplished thus far. \r\n                    You have until then to rally the four tribes, to construct great works to hold back the waters, or else the land will descend once more into barbarism.</p>)}\r\n                {(props.settlers>0) && settlePrompt(props.settlers)}\r\n                {props.selectedTerrain && terrainInfo(props.selectedTerrain, props.selectedTerrainX, props.selectedTerrainY, props.settle, props.settled, props.selectedIsSettled, props.turn, props.nextTurn, props.settlers)}\r\n                <br />\r\n                {props.settled && ( <>\r\n                    <p>Food: {props.food}</p>\r\n                    <p>Production: {props.production}</p>\r\n                    <p>Commerce: {props.commerce}</p>\r\n                </>\r\n                )}\r\n                {(props.turn>10) && (<p>Turns until the Flood: {props.endGameTurns-props.turn}</p>)}\r\n                {props.settled && (<button type=\"button\" onClick={props.nextTurn}>End Turn {props.turn}</button>)}\r\n            </Navbar>\r\n        );\r\n    } else return (\r\n\r\n        <Navbar bg=\"light\" expand=\"md\" fixed=\"bottom\">\r\n            {(props.endGame===\"Victory\") ?\r\n             ( <>\r\n                    <Navbar.Text>Your people have tamed the waters and held back the tide. History will remember you as the first. </Navbar.Text>\r\n                    <br></br>\r\n                    <Navbar.Text>Final city count: {props.cityCount}</Navbar.Text>\r\n                </>\r\n             )\r\n             : (<p>You and your people sink beneath the waves. Forgotten like so many others.</p>)\r\n              }\r\n            </Navbar>        \r\n\r\n    )\r\n\r\n\r\n\r\n}\r\n\r\n\r\nexport default bottomBar;","import React, { Component } from \"react\"\r\nimport worldGen from \"./worldGen\"\r\nimport worldGrid from \"./WorldGrid\";\r\nimport bottomBar from \"./bottomBar\";\r\n\r\n\r\nclass GameScreen extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            worldGen: false,\r\n            worldMap: null,\r\n            worldSize: 50,\r\n            settlers: 1,\r\n            settled: false,\r\n            selectedTerrain: null,\r\n            turn: 0,\r\n            food: 0,\r\n            production: 0,\r\n            commerce: 0,\r\n            foodIncome: 0,\r\n            foodConsumption: 0,\r\n            commerceIncome: 0,\r\n            productionIncome: 0,\r\n            endGame: null,\r\n            cityCount: 0,\r\n            endGameTurns: 60\r\n        }\r\n\r\n        this.defeat = () => {\r\n\r\n            this.setState({\r\n                worldMap: worldGen(this.state.worldSize, 1)\r\n            })\r\n\r\n        }\r\n        this.endGame = () => {\r\n\r\n            let victoryCondition = this.state.production - 100 >= 0;\r\n            //victory\r\n\r\n            if(victoryCondition) {\r\n\r\n                return this.setState({\r\n                    endGame: \"Victory\"\r\n                })\r\n            } else {\r\n\r\n                this.setState({\r\n                    endGame: \"Defeat\"\r\n                });\r\n\r\n                return this.defeat();\r\n            }\r\n\r\n\r\n            //defeat\r\n\r\n        }\r\n        this.nextTurn = () => {\r\n\r\n            if(this.state.turn>=this.state.endGameTurns) {\r\n                return this.endGame();\r\n            }\r\n\r\n\r\n            let foodBalance = this.state.foodIncome - this.state.foodConsumption;\r\n            let productionBalance = this.state.productionIncome;\r\n            let commerceBalance = this.state.commerceIncome;\r\n\r\n            if(this.state.food>10){\r\n                console.log(\"Should be spawning a new pop\");\r\n                foodBalance = foodBalance - 10;\r\n                this.setState({\r\n                    settlers: this.state.settlers + 1\r\n                })\r\n            }\r\n\r\n            return this.setState({\r\n                turn: this.state.turn + 1,\r\n                food: this.state.food + foodBalance,\r\n                production: this.state.production + productionBalance,\r\n                commerce: this.state.commerce + commerceBalance\r\n            });\r\n\r\n        }\r\n\r\n        this.generateWorld = () => {\r\n            return this.setState({\r\n                worldMap: worldGen(this.state.worldSize),\r\n                worldGen: !this.state.worldGen\r\n            })\r\n\r\n        }\r\n\r\n        this.setSize = (event) => {\r\n\r\n            return this.setState({\r\n                worldSize: event.target.value\r\n            })\r\n\r\n        }\r\n\r\n        this.selectTerrain = (terrain, x, y) => {\r\n\r\n            return this.setState({\r\n                selectedTerrain: terrain,\r\n                selectedTerrainX: x,\r\n                selectedTerrainY: y\r\n            })\r\n\r\n        }\r\n\r\n\r\n        this.settle = (x,y) => {\r\n\r\n            //ultimately we would probably want to keep a primitive array to map the settled areas\r\n            //but for now we can just dump everything into the world map\r\n            let gridCopy = JSON.parse(JSON.stringify(this.state.worldMap));\r\n\r\n            gridCopy[x][y].settled = true;\r\n\r\n            switch(gridCopy[x][y].terrain){\r\n\r\n                case \"grass\":\r\n                    console.log(\"adding grassland income\");\r\n                    this.setState({\r\n                        foodIncome: this.state.foodIncome + 2\r\n                    });\r\n                    break;\r\n                case \"hills\":\r\n                    console.log(\"Adding hills income\");\r\n                    this.setState({\r\n                        productionIncome: this.state.productionIncome + 2\r\n                    });\r\n                    break;\r\n                case \"trees\":\r\n                    console.log(\"adding trees income\");\r\n                    this.setState({\r\n                        foodIncome: this.state.foodIncome + 1,\r\n                        productionIncome: this.state.productionIncome + 1\r\n                    });\r\n                    break;\r\n                default:\r\n                    console.log(\"settlers are having trouble cultivating the land\");\r\n                    break;\r\n\r\n            }\r\n\r\n\r\n            this.setState({worldMap: gridCopy})\r\n            return this.settledCallBack();\r\n\r\n        }\r\n\r\n        this.settledCallBack = () => {\r\n\r\n            return this.setState({\r\n                settled: true,\r\n                settlers: this.state.settlers-1,\r\n                foodConsumption: this.state.foodConsumption + 1,\r\n                cityCount: this.state.cityCount + 1\r\n            })\r\n\r\n        }\r\n\r\n        this.renderWorldGenTemplate = () => {\r\n\r\n            return (\r\n                <>\r\n                    <p>Here is a primordial world without parameters.</p>\r\n                    <p>What is the size of this world?</p>\r\n                    <form>\r\n                        <label>Selected map type is {this.state.worldSize>30 ? (\"Pangaea\") : (\"Archipelago\")}</label><br />\r\n                        <input type=\"number\" name=\"size\" min=\"20\" max=\"100\" value={this.state.worldSize} onChange={this.setSize}></input>\r\n                        <button type='button' onClick={this.generateWorld}>Generate World</button>\r\n                    </form>\r\n\r\n                </>\r\n            );\r\n\r\n\r\n        }\r\n\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                {!this.state.worldGen && (<this.renderWorldGenTemplate />)}\r\n                {this.state.worldMap && worldGrid(this.state.worldMap, this.selectTerrain)}\r\n                {this.state.worldMap && bottomBar({\r\n                    settled: this.state.settled, \r\n                    settlers: this.state.settlers, \r\n                    selectedTerrain: this.state.selectedTerrain,\r\n                    selectedTerrainX: this.state.selectedTerrainX,\r\n                    selectedTerrainY: this.state.selectedTerrainY,\r\n                    selectedIsSettled: this.state.worldMap[this.state.selectedTerrainX|0][this.state.selectedTerrainY|0].settled,\r\n                    turn: this.state.turn,\r\n                    food: this.state.food,\r\n                    commerce: this.state.commerce,\r\n                    production: this.state.production,\r\n                    settle: this.settle,\r\n                    nextTurn: this.nextTurn, \r\n                    endGame: this.state.endGame,\r\n                    cityCount: this.state.cityCount,\r\n                    endGameTurns: this.state.endGameTurns\r\n                    })}\r\n                \r\n            </>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default GameScreen;","import './App.css';\nimport React, { Component } from \"react\";\nimport AppSplash from './appSplash';\nimport GameScreen from './components/GameScreen';\n\n\nclass App extends Component {\n\n  constructor() {\n    super();\n    this.state = {\n      splashVisible: true\n    }\n\n    this.toggleSplash = () => {\n      this.setState({\n        splashVisible: !this.state.splashVisible\n      })\n    }\n  }\n\n  render() {\n    return (\n      <>\n        {this.state.splashVisible && (<AppSplash toggleSplash={this.toggleSplash} />)}\n        {!this.state.splashVisible && <GameScreen />}\n        <div className=\"App\">     \n          <h4>Play Music</h4>\n              <iframe width={this.state.splashVisible ? \"250\" : \"50\"} height={this.state.splashVisible ? \"250\" : \"50\"} src=\"https://www.youtube-nocookie.com/embed/videoseries?list=PL18D349C72C3BB0D5\" title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>\n              {this.state.splashVisible && \n              \n                (\n\n                <p>\n                    <button type='button' onClick={this.toggleSplash}>\n                        Just take me to the game already!\n                    </button>\n                </p>\n\n                )\n              \n              }\n        </div>\n      </>\n\n\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}